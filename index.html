<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Etch-A-Sketch</title>
  <link rel="stylesheet" href="style.css">
  <link rel="stylesheet" href="https://use.typekit.net/tfw3wfo.css">
</head>
<body>
    <header>
        <h1>Etch-a-Sketch</h1>
    </header>
    <div id="main">
        <div id="canvas">
        </div>  
        <div id="btnPanel">
            <button class="btn" id="clearBtn">Clear</button>
            <button class="btn" id="lowDensityBtn">Low</button>
            <button class="btn" id="mediumDensityBtn">Medium</button>
            <button class="btn" id="highDensityBtn">High</button>
            <div id="densityContainer">
                <input type="range" min="10" max="30" value="20" id="densitySlider">
                <p id="sliderCaption">Grid Size: <span id="gridSize"></span></p>
            </div>

        </div>
        

    </div>




<script>
    const LOW = 10;
    const MEDIUM = 20;
    const HIGH = 30;

    const gridSize = document.querySelector('#gridSize');

    const canvas = document.querySelector('#canvas');
    createCanvas();

    const clearBtn = document.querySelector('#clearBtn');
    clearBtn.addEventListener('click', clearCanvas);

    const lowDensityBtn = document.querySelector('#lowDensityBtn');
    lowDensityBtn.addEventListener('click', function() {
        changeDensity(LOW);
    });

    const mediumDensityBtn = document.querySelector('#mediumDensityBtn');
    mediumDensityBtn.addEventListener('click', function() {
        changeDensity(MEDIUM);
    });

    const highDensityBtn = document.querySelector('#highDensityBtn');
    highDensityBtn.addEventListener('click', function() {
        changeDensity(HIGH);
    });

    const densitySlider = document.querySelector('#densitySlider');
    densitySlider.addEventListener('input', function() {
        changeDensity(this.value);
    })
    densitySlider.oninput = function() {
        // output.innerHTML = this.value;
    }

    function createCanvas(n = MEDIUM) {
        canvas.style.gridTemplateColumns = `repeat(${n}, 1fr)`;
        canvas.style.gridTemplateRows = `repeat(${n}, 1fr)`;
        for (let i = 0; i < n*n; i++) {
            let gridBox = document.createElement('div');
            gridBox.classList.add('pixel');
            canvas.appendChild(gridBox);
        }
        let pixels = document.querySelectorAll('.pixel');
        pixels.forEach(pixel => pixel.addEventListener('mouseover', function() {
            this.classList.add('activated');
        }));
        gridSize.textContent = `${n} x ${n}`;
        
    }

    function clearCanvas() {
        canvas.textContent = '';
    }

    function changeDensity(density) {
        clearCanvas();
        createCanvas(density);
    }
</script>

</body>